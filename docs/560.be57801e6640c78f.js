"use strict";(self.webpackChunkE_commerceApp=self.webpackChunkE_commerceApp||[]).push([[560],{6560:(E,m,s)=>{s.r(m),s.d(m,{RegisterComponent:()=>I});var p=s(6814),t=s(95),e=s(4769),u=s(9410),Z=s(1120);function h(r,a){if(1&r&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.errMsg," ")}}function v(r,a){1&r&&(e.TgZ(0,"p",29),e._uU(1,"Your name must be at least 3 characters long"),e.qZA())}function T(r,a){1&r&&(e.TgZ(0,"p",29),e._uU(1,"Your name cannot exceed 20 characters"),e.qZA())}function w(r,a){1&r&&(e.TgZ(0,"p",29),e._uU(1,"Enter vaid Email"),e.qZA())}function x(r,a){1&r&&(e.TgZ(0,"p",29),e._uU(1," password must have capital letter, a lowercase letter, a special character, and Numbers"),e.qZA())}function U(r,a){1&r&&(e.TgZ(0,"p",29),e._uU(1,"Password confirmation is incorrect"),e.qZA())}function b(r,a){1&r&&(e.TgZ(0,"p",29),e._uU(1,"accept only egypt phone numbers"),e.qZA())}function A(r,a){1&r&&e._UZ(0,"i",30)}let I=(()=>{class r{constructor(i,o){this._AuthService=i,this._Router=o,this.errMsg="",this.spinner=!1,this.registerForm=new t.cw({name:new t.NI("",[t.kI.required,t.kI.minLength(3),t.kI.maxLength(20)]),email:new t.NI("",[t.kI.required,t.kI.email]),password:new t.NI("",[t.kI.required,t.kI.minLength(8),t.kI.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()\-_=+{};:,<.>]).{8,}$/)]),rePassword:new t.NI(""),phone:new t.NI("",t.kI.pattern(/^01[0125][0-9]{8}$/))},{Validators:[this.checkRepassword]})}checkRepassword(i){const o=i.get("password"),n=i.get("rePassword");" "==n?.value?n?.setErrors({required:!0}):o?.value!=n?.value&&n?.setErrors({mismatch:!0})}handelForm(){this.spinner=!0,this.registerForm.valid&&this._AuthService.register(this.registerForm.value).subscribe({next:o=>{"success"==o.message&&(this._Router.navigate(["/login"]),this.spinner=!1)},error:o=>{this.errMsg=o.error.message,this.spinner=!1}})}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(u.e),e.Y36(Z.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:54,vars:10,consts:[[1,"vh-100"],[1,"container","h-100","mt-2"],[1,"mx-1","mx-md-4","border","shadow","p-5",3,"formGroup","ngSubmit"],[1,"text-center","fs-4","fw-bold","mb-5","mx-md-4","m-2","text-info"],["class"," validation text-center my-2 ","role","alert",4,"ngIf"],[1,"d-flex","flex-row","align-items-center","mb-4"],[1,"fas","fa-user","fa-lg","me-3","fa-fw","text-info"],[1,"form-outline","flex-fill","mb-0"],["for","email",1,"name"],["formControlName","name","type","text","id","Name",1,"form-control"],["class","validation",4,"ngIf"],[1,"fas","fa-envelope","fa-lg","me-3","fa-fw","text-info"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email",1,"form-control"],[1,"fas","fa-lock","fa-lg","me-3","fa-fw","text-info"],["for","password",1,"form-label"],["formControlName","password","type","password","id","password",1,"form-control"],[1,"fas","fa-key","fa-lg","me-3","fa-fw","text-info"],["for","rePassword",1,"form-label"],["formControlName","rePassword","type","password","id","rePassword",1,"form-control"],[1,"fas","fa-phone","fa-lg","me-3","fa-fw","text-info"],["for","phone",1,"form-label"],["formControlName","phone","type","tel","id","phone",1,"form-control"],[1,"d-flex","justify-content-center","mx-4","mb-3","mb-lg-4"],["type","submit",1,"btn","btn-info","text-light","btn-lg","active","w-100",3,"disabled"],["class","fas fa-spin fa-spinner",4,"ngIf"],[1,"col-md-10","col-lg-6","col-xl-7","d-flex","align-items-center","order-1","order-lg-2"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp","alt","Sample image",1,"img-fluid"],["role","alert",1,"validation","text-center","my-2"],[1,"validation"],[1,"fas","fa-spin","fa-spinner"]],template:function(o,n){if(1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return n.handelForm()}),e.TgZ(3,"p",3),e._uU(4,"Register Form"),e.qZA(),e.YNc(5,h,2,1,"div",4),e.TgZ(6,"div",5),e._UZ(7,"i",6),e.TgZ(8,"div",7)(9,"label",8),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",9),e.TgZ(12,"div"),e.YNc(13,v,2,0,"p",10),e.YNc(14,T,2,0,"p",10),e.qZA()()(),e.TgZ(15,"div",5),e._UZ(16,"i",11),e.TgZ(17,"div",7)(18,"label",12),e._uU(19,"Your Email"),e.qZA(),e._UZ(20,"input",13),e.TgZ(21,"div"),e.YNc(22,w,2,0,"p",10),e.qZA()()(),e.TgZ(23,"div",5),e._UZ(24,"i",14),e.TgZ(25,"div",7)(26,"label",15),e._uU(27,"Password"),e.qZA(),e._UZ(28,"input",16),e.TgZ(29,"div"),e.YNc(30,x,2,0,"p",10),e.qZA()()(),e.TgZ(31,"div",5),e._UZ(32,"i",17),e.TgZ(33,"div",7)(34,"label",18),e._uU(35,"Repeat your password"),e.qZA(),e._UZ(36,"input",19),e.TgZ(37,"div"),e.YNc(38,U,2,0,"p",10),e.qZA()()(),e.TgZ(39,"div",5),e._UZ(40,"i",20),e.TgZ(41,"div",7)(42,"label",21),e._uU(43,"Phone"),e.qZA(),e._UZ(44,"input",22),e.TgZ(45,"div"),e.YNc(46,b,2,0,"p",10),e.qZA()()(),e.TgZ(47,"div",23)(48,"button",24),e._uU(49," Register "),e.TgZ(50,"span"),e.YNc(51,A,1,0,"i",25),e.qZA()()()()(),e.TgZ(52,"div",26),e._UZ(53,"img",27),e.qZA()()),2&o){let l,g,f,c,_,d;e.xp6(2),e.Q6J("formGroup",n.registerForm),e.xp6(3),e.Q6J("ngIf",n.errMsg),e.xp6(8),e.Q6J("ngIf",null==(l=n.registerForm.get("name"))?null:l.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(g=n.registerForm.get("name"))?null:g.getError("maxlength")),e.xp6(8),e.Q6J("ngIf",null==(f=n.registerForm.get("email"))?null:f.getError("email")),e.xp6(8),e.Q6J("ngIf",null==(c=n.registerForm.get("password"))?null:c.getError("pattern")),e.xp6(8),e.Q6J("ngIf",null==(_=n.registerForm.get("rePassword"))?null:_.getError("mismatch")),e.xp6(8),e.Q6J("ngIf",null==(d=n.registerForm.get("phone"))?null:d.getError("pattern")),e.xp6(2),e.Q6J("disabled",n.registerForm.invalid),e.xp6(3),e.Q6J("ngIf",n.spinner)}},dependencies:[p.ez,p.O5,t.UX,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u],styles:[".validation[_ngcontent-%COMP%]{color:red;font-size:.9rem;font-weight:400}"]})}return r})()}}]);